{% extends 'base/general.html' %}

{% block title %}Usuarios{% endblock %}

{% block header %}Registro{% endblock %}

{% block breadcrumb %}
<ol class="breadcrumb">
  <li><i class="fa fa-user-md"></i> &nbsp; Usuarios</li>
  <li><a href="{% url 'usuarios:usuario_list' %}">Gestión de Usuarios</a></li>
  <li class="active">Registro</li>
</ol>
{% endblock %}

{% block content %}
<div class="row">
  <div class="col-xs-12">
    <!-- Errores -->
    {% if form.errors %}
    <div class="alert alert-danger alert-dismissible">
      <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
      <h4><i class="icon fa fa-ban"></i> Error en ingreso de datos</h4>
      {{ form.errors }}
    </div>
    {% endif %}

    <!-- Box Primary -->
    <div class="box box-primary">
      <div class="box-header">
        <h3 class="box-title">Usuarios</h3>
      </div>
      <!-- /.box-header -->
      <div class="box-body">
        <div class="row">
          <div class="col-sm-8 col-sm-offset-2">
            <form method="post" autocomplete="off">
              {% csrf_token %}
              <!-- Nombre de usuario -->
              <p>
                <label for="id_username">Nombre de usuario:</label>
                <input type="text" name="username" maxlength="150" autofocus required id="id_username" class="form-control" placeholder="Nombre de usuario">
                <span class="helptext">Obligatorio. Longitud máxima 150 caracteres alfanuméricos. Letras, dígitos y @/./+/-/_ únicamente.</span>
              </p>
              <!-- Nombre -->
              <p>
                <label for="id_first_name">Nombre:</label>
                <input type="text" name="first_name" maxlength="30" required id="id_first_name" class="form-control" placeholder="Nombre del usuario">
                <span class="helptext">Obligatorio. Longitud máxima 30 caracteres alfanuméricos.</span>
              </p>
              <!-- Apellido -->
              <p>
                <label for="id_last_name">Apellido:</label>
                <input type="text" name="last_name" maxlength="150" required id="id_last_name" class="form-control" placeholder="Apellido del usuario">
                <span class="helptext">Obligatorio. Longitud máxima 150 caracteres alfanuméricos.</span>
              </p>
              <!-- Correo electrónico -->
              <p>
                <label for="id_email">Correo electrónico:</label>
                <input type="email" name="email" maxlength="254" required id="id_email" class="form-control" placeholder="Correo electrónico del usuario">
                <span class="helptext">Obligatorio. Longitud máxima 254 caracteres.</span>
              </p>
              <!-- Contraseña -->
              <p>
                <label for="id_password1">Contraseña:</label>
                <input type="password" name="password1" required id="id_password1" class="form-control" placeholder="Contraseña del usuario">
                <span class="helptext">Obligatorio. Su contraseña no puede ser similar a su otra información personal. Debe contener al menos 8 caracteres. No puede ser una contraseña común. No puede ser enteramente numérica.</span>
              </p>
              <!-- Confirmar contraseña -->
              <p>
                <label for="id_password2">Confirmación de contraseña:</label>
                <input type="password" name="password2" required id="id_password2" class="form-control" placeholder="Confirmación de contraseña">
                <span class="helptext">Para verificar, introduzca la misma contraseña que introdujo antes.</span>
              </p>
              <!-- Roles de usuario -->
              <p>
                <label for="id_groups">Roles de usuario:</label>
                <br>
                {{ form.groups }}
                <br>
                <span class="helptext">Opcional. Mantenga presionado "Control, o "Command" en una Mac, para seleccionar más de uno.</span>
              </p>
              <div class="pull-right">
              	<a href="{% url 'usuarios:usuario_list' %}" class="btn btn-flat btn-default">Cancelar</a> &nbsp;&nbsp;
                <button type="submit" class="btn btn-flat btn-primary">Guardar</button>	
              </div>
            </form>	
          </div>
        </div>
      </div>
      <!-- /.box-body -->
    </div>
    <!-- /.box -->
  </div>
</div>
{% endblock %}